{"remainingRequest":"e:\\BluestacksCN\\Lcspring\\个人项目\\my-wechat\\vue_app\\node_modules\\babel-loader\\lib\\index.js!e:\\BluestacksCN\\Lcspring\\个人项目\\my-wechat\\vue_app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!e:\\BluestacksCN\\Lcspring\\个人项目\\my-wechat\\vue_app\\src\\components\\Login.vue?vue&type=script&lang=js","dependencies":[{"path":"e:\\BluestacksCN\\Lcspring\\个人项目\\my-wechat\\vue_app\\src\\components\\Login.vue","mtime":1560582201646},{"path":"e:\\BluestacksCN\\Lcspring\\个人项目\\my-wechat\\vue_app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"e:\\BluestacksCN\\Lcspring\\个人项目\\my-wechat\\vue_app\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"e:\\BluestacksCN\\Lcspring\\个人项目\\my-wechat\\vue_app\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport querystring from 'querystring';\nexport default {\n  data: function data() {\n    return {\n      accountPlaceholder: \"请填写微信号/QQ号/邮箱\",\n      uname: \"\",\n      upwd: \"\",\n      defaultAccountText: \"用手机号登录\",\n      // 是否是账户方式\n      isUserAccount: true,\n      msg: '请输入密码'\n    };\n  },\n  methods: {\n    login: function login() {\n      var _this = this;\n\n      if (!this.uname) {\n        this.$messagebox({\n          title: \"\",\n          message: \"请输入用户名\"\n        });\n      } else if (!this.upwd) {\n        this.$messagebox(\"\", \"请输入密码\");\n      } else {\n        var uname = this.uname,\n            upwd = this.upwd; // 正则验证\n\n        var reg_uname = /^[a-zA-Z0-9]{3,10}$/,\n            reg_upwd = /^\\w{6,10}$/;\n\n        if (!reg_uname.test(uname)) {\n          this.$toast(\"用户名格式不正确\");\n          return;\n        }\n\n        if (!reg_upwd.test(upwd)) {\n          this.$toast(\"密码格式不正确\");\n          return;\n        } // 发送ajax请求\n\n\n        var url = \"login\";\n        var data = {\n          uname: uname,\n          upwd: upwd\n        }; // {headers:{'Content-Type':'application/x-www-form-urlencoded'}}\n\n        this.axios({\n          url: url,\n          method: 'post',\n          data: data,\n          transformRequest: [function (data) {\n            // let ret = \"\";\n            // for (let it in data){\n            //     ret += encodeURIComponent(it) + '=' +encodeURIComponent(data[it]) + '&'\n            // }\n            // return ret\n            data = querystring.stringify(data);\n            return data;\n          }],\n          headers: {\n            'Content-Type': 'application/x-www-form-urlencoded'\n          }\n        }).then(function (result) {\n          // console.log(result.data.data.uname)\n          var code = result.data.code;\n          var msg = result.data.msg;\n\n          if (code == -1) {\n            _this.$toast(msg);\n          } else {\n            _this.$router.push(\"/loginbg\");\n          }\n        });\n      }\n    },\n    close: function close() {\n      this.$router.push(\"/\");\n    },\n    changeLoginMethod: function changeLoginMethod() {\n      // console.log(\"123\")\n      if (this.isUserAccount) {\n        this.accountPlaceholder = \"请输入手机号码\";\n        this.defaultAccountText = \"用微信号/QQ号/邮箱登录\";\n        this.isUserAccount = !this.isUserAccount;\n        this.uname = \"\";\n        this.upwd = \"\";\n        this.msg = '请输入手机验证码';\n      } else {\n        this.accountPlaceholder = \"手机号/邮箱/会员名\";\n        this.defaultAccountText = \"用手机号登录\";\n        this.isUserAccount = !this.isUserAccount;\n        this.uname = \"\";\n        this.upwd = \"\";\n        this.msg = '请输入密码';\n      }\n    }\n  }\n};",{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA,OAAA,WAAA,MAAA,aAAA;AACA,eAAA;AACA,MADA,kBACA;AACA,WAAA;AACA,0BAAA,eADA;AAEA,aAAA,EAFA;AAGA,YAAA,EAHA;AAIA,0BAAA,QAJA;AAKA;AACA,qBAAA,IANA;AAOA,WAAA;AAPA,KAAA;AASA,GAXA;AAYA,WAAA;AACA,SADA,mBACA;AAAA;;AACA,UAAA,CAAA,KAAA,KAAA,EAAA;AACA,aAAA,WAAA,CAAA;AACA,iBAAA,EADA;AAEA,mBAAA;AAFA,SAAA;AAIA,OALA,MAKA,IAAA,CAAA,KAAA,IAAA,EAAA;AACA,aAAA,WAAA,CAAA,EAAA,EAAA,OAAA;AACA,OAFA,MAEA;AACA,YAAA,QAAA,KAAA,KAAA;AAAA,YACA,OAAA,KAAA,IADA,CADA,CAGA;;AACA,YAAA,YAAA,qBAAA;AAAA,YACA,WAAA,YADA;;AAEA,YAAA,CAAA,UAAA,IAAA,CAAA,KAAA,CAAA,EAAA;AACA,eAAA,MAAA,CAAA,UAAA;AACA;AACA;;AACA,YAAA,CAAA,SAAA,IAAA,CAAA,IAAA,CAAA,EAAA;AACA,eAAA,MAAA,CAAA,SAAA;AACA;AACA,SAbA,CAcA;;;AACA,YAAA,MAAA,OAAA;AACA,YAAA,OAAA;AAAA,sBAAA;AAAA;AAAA,SAAA,CAhBA,CAiBA;;AACA,aAAA,KAAA,CAAA;AACA,kBADA;AAEA,kBAAA,MAFA;AAGA,oBAHA;AAIA,4BAAA,CAAA,UAAA,IAAA,EAAA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAA,YAAA,SAAA,CAAA,IAAA,CAAA;AACA,mBAAA,IAAA;AACA,WARA,CAJA;AAaA,mBAAA;AAAA,4BAAA;AAAA;AAbA,SAAA,EAcA,IAdA,CAcA,kBAAA;AACA;AACA,cAAA,OAAA,OAAA,IAAA,CAAA,IAAA;AACA,cAAA,MAAA,OAAA,IAAA,CAAA,GAAA;;AACA,cAAA,QAAA,CAAA,CAAA,EAAA;AACA,kBAAA,MAAA,CAAA,GAAA;AACA,WAFA,MAEA;AACA,kBAAA,OAAA,CAAA,IAAA,CAAA,UAAA;AACA;AACA,SAvBA;AAwBA;AACA,KApDA;AAqDA,SArDA,mBAqDA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,GAAA;AACA,KAvDA;AAwDA,qBAxDA,+BAwDA;AACA;AACA,UAAA,KAAA,aAAA,EAAA;AACA,aAAA,kBAAA,GAAA,SAAA;AACA,aAAA,kBAAA,GAAA,eAAA;AACA,aAAA,aAAA,GAAA,CAAA,KAAA,aAAA;AACA,aAAA,KAAA,GAAA,EAAA;AACA,aAAA,IAAA,GAAA,EAAA;AACA,aAAA,GAAA,GAAA,UAAA;AACA,OAPA,MAOA;AACA,aAAA,kBAAA,GAAA,YAAA;AACA,aAAA,kBAAA,GAAA,QAAA;AACA,aAAA,aAAA,GAAA,CAAA,KAAA,aAAA;AACA,aAAA,KAAA,GAAA,EAAA;AACA,aAAA,IAAA,GAAA,EAAA;AACA,aAAA,GAAA,GAAA,OAAA;AACA;AACA;AAzEA;AAZA,CAAA","sourcesContent":["<template>\r\n    <div class=\"container\">\r\n        <div class=\"tipslogin\">\r\n            <span>您需要登录才能继续访问</span>\r\n            <span class=\"closeSpan\" @click=\"close\">关闭</span>\r\n        </div>\r\n        <!-- logo图片 -->\r\n        <div class=\"imgDiv\">\r\n            <img src=\"../assets/wx.png\" alt=\"logo\" class=\"logo\"/>\r\n        </div>\r\n        <!-- 操作区域 -->\r\n        <div class=\"operateDiv myinput\">\r\n            <!-- 账号 -->\r\n            <mt-field :placeholder=\"accountPlaceholder\" v-model=\"uname\" class=\"mint-cell-wrapper\"></mt-field>\r\n            <!-- 密码 -->\r\n            <mt-field type=\"password\" placeholder=\"请输入密码\" v-show=\"isUserAccount\" v-model=\"upwd\" class=\"mint-cell-wrapper myinput\"></mt-field>\r\n            <!-- 短信验证码 -->\r\n            <mt-field placeholder=\"短信校验码\" v-model=\"upwd\" v-show=\"!isUserAccount\" class=\"mint-cell-wrapper myinput\">\r\n                <a href=\"javascript:;\" class=\"getCode sendmsg\">获取短信校验码</a>\r\n            </mt-field>\r\n            <!-- 免费注册 -->\r\n            <!-- 登录和切换登录方式 -->\r\n            <div class=\"btn_switch\">\r\n                <a @click=\"changeLoginMethod\" class=\"getCode switchLogin\">{{defaultAccountText}}</a>\r\n                <mt-button size=\"large\" class=\"mybutton\" @click=\"login\">登录</mt-button>\r\n            </div>\r\n        </div>\r\n        <!-- 服务区域 -->\r\n        <div class=\"vhelps\">\r\n            <span><a href=\"javascript:;\" class=\"vhelp\">找回密码</a></span>\r\n            <span>|<a href=\"javascript:;\" class=\"vhelp\">紧急冻结</a></span>\r\n            <span>|<a href=\"javascript:;\" class=\"vhelp\">微信安全中心</a></span>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport querystring from 'querystring'\r\nexport default {\r\n    data(){\r\n        return {\r\n            accountPlaceholder:\"请填写微信号/QQ号/邮箱\",\r\n            uname:\"\",\r\n            upwd:\"\",\r\n            defaultAccountText:\"用手机号登录\",\r\n            // 是否是账户方式\r\n            isUserAccount:true,\r\n            msg:'请输入密码',\r\n        }\r\n    },\r\n    methods:{\r\n        login(){\r\n            if(!this.uname){\r\n                this.$messagebox({\r\n                    title:\"\",\r\n                    message:\"请输入用户名\"\r\n                })\r\n            }else if(!this.upwd){\r\n                this.$messagebox(\"\",\"请输入密码\")\r\n            }else{\r\n                var uname = this.uname,\r\n                upwd = this.upwd;\r\n                // 正则验证\r\n                var reg_uname = /^[a-zA-Z0-9]{3,10}$/,\r\n                reg_upwd = /^\\w{6,10}$/;\r\n                if(!reg_uname.test(uname)){\r\n                    this.$toast(\"用户名格式不正确\");\r\n                    return;\r\n                }\r\n                if(!reg_upwd.test(upwd)){\r\n                    this.$toast(\"密码格式不正确\");\r\n                    return;\r\n                }\r\n                // 发送ajax请求\r\n                var url = \"login\";\r\n                var data = {uname,upwd};\r\n                // {headers:{'Content-Type':'application/x-www-form-urlencoded'}}\r\n                this.axios({\r\n                    url,\r\n                    method:'post',\r\n                    data,\r\n                    transformRequest:[function(data){\r\n                        // let ret = \"\";\r\n                        // for (let it in data){\r\n                        //     ret += encodeURIComponent(it) + '=' +encodeURIComponent(data[it]) + '&'\r\n                        // }\r\n                        // return ret\r\n                        data = querystring.stringify(data);\r\n                        return data;\r\n                    }],\r\n                    headers:{'Content-Type':'application/x-www-form-urlencoded'}\r\n                }).then(result=>{\r\n                    // console.log(result.data.data.uname)\r\n                    var code = result.data.code;\r\n                    var msg = result.data.msg;\r\n                    if(code==-1){\r\n                        this.$toast(msg)\r\n                    }else{\r\n                        this.$router.push(\"/loginbg\")\r\n                    }\r\n                })\r\n            }\r\n        },\r\n        close(){\r\n          this.$router.push(\"/\");\r\n        },\r\n        changeLoginMethod(){\r\n        // console.log(\"123\")\r\n            if(this.isUserAccount){\r\n                this.accountPlaceholder=\"请输入手机号码\";\r\n                this.defaultAccountText=\"用微信号/QQ号/邮箱登录\";\r\n                this.isUserAccount=!this.isUserAccount;\r\n                this.uname=\"\";\r\n                this.upwd=\"\";\r\n                this.msg='请输入手机验证码';\r\n            }else{\r\n                this.accountPlaceholder=\"手机号/邮箱/会员名\";\r\n                this.defaultAccountText=\"用手机号登录\";\r\n                this.isUserAccount=!this.isUserAccount;\r\n                this.uname=\"\";\r\n                this.upwd=\"\";\r\n                this.msg='请输入密码';\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n    /* 你需要登录才能继续仿问的布局样式 */\r\n    .tipslogin {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n        height: 52px;\r\n        background: rgb(238, 230, 238);\r\n        padding-left: 20px;\r\n        padding-right: 20px;\r\n    }\r\n    /* 半闭样式 */\r\n    .closeSpan {\r\n        color: rgb(153, 153, 153)\r\n    }\r\n    /* 图片 logo 根样式 */\r\n    .imgDiv {\r\n        display: flex;\r\n        justify-content: center;\r\n    }\r\n    /* 图片样式 */\r\n    .logo{\r\n        width: 70px;\r\n        height: 70px;\r\n        margin-top:20px\r\n    }\r\n    /* 上面的线隐藏 */\r\n    .mint-cell-wrapper  {\r\n        background-image: linear-gradient(180deg, #fff, #fff 0%, transparent 0%);\r\n    }\r\n    /* 输入框底边框样式 */\r\n    .mint-cell-wrapper  {\r\n        border-bottom: 1px solid #09bb07;\r\n        padding-left:0px;\r\n        border-radius: 5px;\r\n    }\r\n\r\n    /* 修改按钮按钮下的默认颜色 */\r\n    .mint-button::after {\r\n        background-color: transparent;\r\n    }\r\n    /* 操作区域的样式*/\r\n    .operateDiv {\r\n        padding-left: 20px;\r\n        padding-right: 20px;\r\n    }\r\n    /* 输入框边距 */\r\n    .myinput {\r\n        margin-top: 30px;\r\n    }\r\n    .btn_switch{\r\n        padding-top: 10px;\r\n    }\r\n    /* a标签字体颜色 */\r\n    .getCode {\r\n        color:#0aa1ed;\r\n        font-size: 17px;\r\n        padding-left: 7px;\r\n        text-decoration:none;\r\n    }\r\n    /* 切换登录 */\r\n    .switchLogin{\r\n        font-size: 16px;\r\n        margin-left: -8px;\r\n        color: rgb(20, 100, 120);\r\n    }\r\n    /* 获取短信验证码 */\r\n    .sendmsg{\r\n        border-left: 1px solid #b5b5b5;\r\n    }\r\n    /* 免费注册根样式 */\r\n    .registerDiv {\r\n        margin-top: 20px;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n    }\r\n    /* 免费注册字体样式*/\r\n    .registerDiv span {\r\n        color: #555;\r\n    }\r\n    /* 登录短信验证按钮边距 */\r\n    .mybutton {\r\n        margin-top: 20px;\r\n    }\r\n    /* 修改默认 butoon 的样式 达到和淘宝登录一样 */\r\n    .mint-button--default {\r\n        background-color: #09bb07;\r\n        border-radius: 25px;\r\n        color: #fff;\r\n        height: 48px;\r\n    }\r\n    /* 同上 */\r\n    .mint-button--primary {\r\n        border-radius: 25px;\r\n        height: 48px;\r\n        background-color: transparent;\r\n        border: 1px solid #09bb07;\r\n        color: #0aa1ed\r\n    }\r\n    /* 修改默认弹框的样式，达到基本和淘宝的效果一样 */\r\n    .mint-msgbox{\r\n        border-radius: 8px;\r\n        width: 70%\r\n    }\r\n    /* 弹出框内容样式 */\r\n    .mint-msgbox-content {\r\n        min-height: 50px;\r\n        font-size: 18px;\r\n    }\r\n    /* 弹出内容居中 */\r\n    .mint-msgbox-message{\r\n        line-height: 50px;\r\n    }\r\n    /* 弹出框确定按钮样式 */\r\n    .mint-msgbox-btns{\r\n        height: 60px;\r\n    }\r\n    /* 弹出框确定按钮字体 */\r\n    .mint-msgbox-confirm {\r\n        color: #f40;\r\n    }\r\n    .vhelps{\r\n        text-align: center;\r\n        margin-top: calc(120% - 350px);\r\n    }\r\n    .vhelp{\r\n        font-size: 14px;\r\n        margin: 0 5px;\r\n        color: rgb(20, 100, 120);\r\n    }\r\n</style>\r\n<style>\r\n    select, textarea, input[type='text'], input[type='search'], input[type='password'], input[type='datetime'], input[type='datetime-local'], input[type='date'], input[type='month'], input[type='time'], input[type='week'], input[type='number'], input[type='email'], input[type='url'], input[type='tel'], input[type='color']{\r\n        border:none !important;\r\n        padding:10px 8px !important;\r\n    }\r\n</style>\r\n"],"sourceRoot":"src\\components"}]}